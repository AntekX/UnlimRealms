///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	UnlimRealms
//	Author: Anatole Kuzub
//
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#pragma once

#include "Sys/Canvas.h"

namespace UnlimRealms
{

	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	// Windows system canvas
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////	
	class UR_DECL WinCanvas : public Canvas
	{
	public:

		WinCanvas(Realm &realm,
			Style style = Style::BorderlessWindow,
			const wchar_t *title = ur_null);

		virtual ~WinCanvas();

		inline HINSTANCE GetHinstance() const;

		inline HWND GetHwnd() const;

	private:

		virtual Result OnInitialize(const RectI &bound);

		virtual Result OnSetBound(const RectI &bound);

		static LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam);

		HINSTANCE hinst;
		HWND hwnd;
	};

} // end namespace UnlimRealms

#include "Sys/Windows/WinCanvas.inline.h"